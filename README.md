
# Larek

Компактное e-commerce приложение на микросервисной архитектуре.

## Запуск приложения

Склонируйте репозиторий и запустите с помощью docker-compose

```bash
docker-compose up --build
```
В итоге сервисы будут доступны со следующими портам
```
| Сервис        | Порт |               
| ------------- |------|
| catalog api   | 5001 |
| order api     | 5002 |
| delivery api  | 5003 |
| catalog db    | 6001 |
| order db      | 6002 |
| delivery db   | 6003 |      
```
## Архитектура
Приложение имеет архитектуру database per service. Содержит три REST Api сервиса и три базы данных PostgreSQL. Межсервисные коммуникации производятся синхронно по HTTP.

### Catalog
Сервис отвечает за добавление, резервирование позиций. Для добавления товара в каталог сначала необходимо добавить бренд и категорию. Есть возможность пополнять количество уже представленных в каталоге позиций, а также добавлять новые позиции. 

### Order
Сервис отвечает за добавление, отмену и выполнение заказов. В целях оформления заказа в первую очередь необходимо создать сам заказ с указанием данных о покупателе и адресе доставки, далее добавлять позиции. При добавлении позиций в заказ, они резервируются в Catalog сервисе. При отмене заказа позиции возвращаются на склад, при выполнении -  удаляются. Если в заказе указано, что требуется доставка, создается запись о доставке в Delivery сервисе.

### Delivery
Сервис отвечает за доставку товара. При оформлении доставки заказ находится в стадии обработки, в процессе чего назначается курьер. При отмене доставки происходит отмена заказа, и товар снимается с резерва. При успешной доставке товара, заказ приобретает статус "выполнен", и товар удаляется из каталога.  


